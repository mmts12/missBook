(function(e){function t(t){for(var n,a,s=t[0],u=t[1],c=t[2],l=0,m=[];l<s.length;l++)a=s[l],Object.prototype.hasOwnProperty.call(o,a)&&o[a]&&m.push(o[a][0]),o[a]=0;for(n in u)Object.prototype.hasOwnProperty.call(u,n)&&(e[n]=u[n]);p&&p(t);while(m.length)m.shift()();return i.push.apply(i,c||[]),r()}function r(){for(var e,t=0;t<i.length;t++){for(var r=i[t],n=!0,a=1;a<r.length;a++){var u=r[a];0!==o[u]&&(n=!1)}n&&(i.splice(t--,1),e=s(s.s=r[0]))}return e}var n={},o={app:0},i=[];function a(e){return s.p+"js/"+({about:"about"}[e]||e)+"."+{about:"fc482cef"}[e]+".js"}function s(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,s),r.l=!0,r.exports}s.e=function(e){var t=[],r=o[e];if(0!==r)if(r)t.push(r[2]);else{var n=new Promise((function(t,n){r=o[e]=[t,n]}));t.push(r[2]=n);var i,u=document.createElement("script");u.charset="utf-8",u.timeout=120,s.nc&&u.setAttribute("nonce",s.nc),u.src=a(e);var c=new Error;i=function(t){u.onerror=u.onload=null,clearTimeout(l);var r=o[e];if(0!==r){if(r){var n=t&&("load"===t.type?"missing":t.type),i=t&&t.target&&t.target.src;c.message="Loading chunk "+e+" failed.\n("+n+": "+i+")",c.name="ChunkLoadError",c.type=n,c.request=i,r[1](c)}o[e]=void 0}};var l=setTimeout((function(){i({type:"timeout",target:u})}),12e4);u.onerror=u.onload=i,document.head.appendChild(u)}return Promise.all(t)},s.m=e,s.c=n,s.d=function(e,t,r){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(s.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)s.d(r,n,function(t){return e[t]}.bind(null,n));return r},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/missBook/",s.oe=function(e){throw console.error(e),e};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],c=u.push.bind(u);u.push=t,u=u.slice();for(var l=0;l<u.length;l++)t(u[l]);var p=c;i.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"2fb4":function(e,t,r){},"352b":function(e,t,r){e.exports=r.p+"img/books.c0e9f4c3.jpg"},"56d7":function(e,t,r){"use strict";r.r(t);r("e260"),r("e6cf"),r("cca6"),r("a79d");var n=r("2b0e"),o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",[r("user-msg",{directives:[{name:"show",rawName:"v-show",value:e.userMsgStr,expression:"userMsgStr"}],attrs:{msgStr:e.userMsgStr}}),r("app-header"),r("router-view")],1)},i=[],a=(r("96cf"),r("1da1")),s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"app"}},[r("div",{attrs:{id:"nav"}},[r("router-link",{attrs:{to:"/"}},[e._v("Home")]),e._v(" | "),r("router-link",{attrs:{to:"/about"}},[e._v("About")]),e._v(" | "),r("router-link",{attrs:{to:"/book"}},[e._v("BookApp")]),e._v(" | "),r("router-link",{attrs:{to:"/add"}},[e._v("AddBook")])],1)])},u=[],c={},l=c,p=(r("c0ea"),r("2877")),m=Object(p["a"])(l,s,u,!1,null,null,null),d=m.exports,g=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"user-msg"},[r("p",[e._v(e._s(e.msgStr))])])},h=[],b={props:["msgStr"]},v=b,f=Object(p["a"])(v,g,h,!1,null,null,null),k=f.exports,w={components:{appHeader:d,UserMsg:k},created:function(){this.loadBooks()},methods:{loadBooks:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch({type:"loadBooks"});case 2:case"end":return t.stop()}}),t)})))()}},computed:{userMsgStr:function(){return this.$store.getters.userMsg}}},y=w,x=Object(p["a"])(y,o,i,!1,null,null,null),C=x.exports,_=(r("d3b7"),r("8c4f")),S=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},R=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"home"},[n("img",{attrs:{src:r("352b"),alt:""}}),n("h1",[e._v("Welcome")])])}],B={name:"Home",components:{}},O=B,j=Object(p["a"])(O,S,R,!1,null,null,null),q=j.exports,P=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",[r("h1",[e._v("Book App")]),r("book-filter",{on:{filtered:e.setFilter}}),r("book-list",{attrs:{books:e.booksToShow},on:{remove:e.onRemove}})],1)},D=[],$=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",[r("ul",{staticClass:"book-list"},e._l(e.books,(function(t){return r("li",{key:t.id},[r("book-preview",{attrs:{book:t},on:{remove:e.remove}})],1)})),0)])},I=[],E=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"book-preview"},[r("router-link",{attrs:{to:"/book/"+e.book.id}},[r("h1",[e._v(e._s(e.book.title))]),r("img",{attrs:{src:e.book.thumbnail,alt:""}}),r("p",[e._v(e._s(e.book.listPrice.amount)+e._s(e.getCurr))])]),r("div",{staticClass:"actions"},[r("button",{on:{click:function(t){return t.preventDefault(),e.remove(t)}}},[e._v("Remove")])])],1)},M=[],H={props:["book"],methods:{remove:function(){console.log("ddd"),this.$emit("remove",this.book.id)}},computed:{getCurr:function(){return"ILS"===this.book.listPrice.currencyCode?"₪":"EUR"===this.book.listPrice.currencyCode?"€":(this.book.listPrice.currencyCode,"$")}}},L=H,T=Object(p["a"])(L,E,M,!1,null,null,null),A=T.exports,U={components:{BookPreview:A},props:["books"],methods:{remove:function(e){console.log(e),this.$emit("remove",e)}}},N=U,F=Object(p["a"])(N,$,I,!1,null,null,null),G=F.exports,Y=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("input",{directives:[{name:"model",rawName:"v-model",value:e.filterBy.txt,expression:"filterBy.txt"}],attrs:{type:"text",placeholder:"Search"},domProps:{value:e.filterBy.txt},on:{input:[function(t){t.target.composing||e.$set(e.filterBy,"txt",t.target.value)},e.filtered]}}),r("input",{directives:[{name:"model",rawName:"v-model.number",value:e.filterBy.minPrice,expression:"filterBy.minPrice",modifiers:{number:!0}}],staticClass:"center-input",attrs:{type:"text",placeholder:"Min price"},domProps:{value:e.filterBy.minPrice},on:{input:[function(t){t.target.composing||e.$set(e.filterBy,"minPrice",e._n(t.target.value))},e.filtered],blur:function(t){return e.$forceUpdate()}}}),r("input",{directives:[{name:"model",rawName:"v-model.number",value:e.filterBy.maxPrice,expression:"filterBy.maxPrice",modifiers:{number:!0}}],attrs:{type:"text",placeholder:"Max price"},domProps:{value:e.filterBy.maxPrice},on:{input:[function(t){t.target.composing||e.$set(e.filterBy,"maxPrice",e._n(t.target.value))},e.filtered],blur:function(t){return e.$forceUpdate()}}})])},J=[],Z=r("5530"),Q={data:function(){return{filterBy:{txt:"",minPrice:null,maxPrice:null}}},methods:{filtered:function(){this.$emit("filtered",Object(Z["a"])({},this.filterBy))}}},z=Q,V=Object(p["a"])(z,Y,J,!1,null,null,null),W=V.exports,K={data:function(){return{books:[],filterBy:null}},created:function(){},components:{BookList:G,BookFilter:W},methods:{loadBooks:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch({type:"loadBooks"});case 2:case"end":return t.stop()}}),t)})))()},onRemove:function(e){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,t.$store.dispatch({type:"removeBook",bookId:e});case 2:case"end":return r.stop()}}),r)})))()},setFilter:function(e){this.$store.commit({type:"setFilter",filterBy:e})}},computed:{booksToShow:function(){return this.$store.getters.booksToShow}}},X=K,ee=Object(p["a"])(X,P,D,!1,null,null,null),te=ee.exports,re=function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.book?r("section",{staticClass:"book-details-container"},[r("h1",[e._v(e._s(e.book.title))]),r("p",{directives:[{name:"show",rawName:"v-show",value:e.book.subtitle,expression:"book.subtitle"}]},[e._v(e._s(e.book.subtitle))]),r("img",{attrs:{src:e.book.thumbnail,alt:""}}),e._l(e.book.authors,(function(t){return r("p",{key:t},[e._v(e._s(t))])})),r("span",[e._v("category: ")]),e._l(e.book.categories,(function(t){return r("p",{key:t},[e._v(e._s(t))])})),r("p",[e._v(e._s(e.description))]),r("p",[e._v("language: "+e._s(e.book.language))]),r("p",{class:e.price},[e._v(e._s(e.book.listPrice.amount)+e._s(e.getCurr))]),r("p",[e._v("publishedDate: "+e._s(e.book.publishedDate))]),r("p",[e._v(e._s(e.pageCount))]),r("p",[e._v(e._s(e.bookAge))]),r("h2",[e._v(e._s(e.sale))]),r("button",{on:{click:e.goBack}},[e._v("Go back")]),r("div",{staticClass:"btn-navigate flex space-around"},[r("el-button",{attrs:{type:"secondry",icon:"el-icon-arrow-left"},on:{click:function(t){return e.onChangePage(-1)}}},[e._v("Previous Book")]),r("el-button",{attrs:{type:"secondry"},on:{click:function(t){return e.onChangePage(1)}}},[e._v("Next Book"),r("i",{staticClass:"el-icon-arrow-right"})])],1),r("review-add",{on:{addReview:e.onAddReview}}),r("review-list",{attrs:{reviews:e.book.reviews},on:{remove:e.onRemove}})],2):r("h1",[e._v("Loading...")])},ne=[],oe=(r("a4d3"),r("e01a"),r("c740"),r("7db0"),r("4160"),r("a434"),r("159b"),r("2909")),ie=(r("99af"),r("25f0"),{storeToStorage:ae,loadFromStorage:se,getRandomInt:ce,getRandomId:ue});function ae(e,t){localStorage.setItem(e,JSON.stringify(t)||null)}function se(e){var t=localStorage.getItem(e);return t?JSON.parse(t):void 0}function ue(){var e=Date.now().toString(16),t=ce(1e3,9999).toString(16),r=ce(1e3,9999).toString(16);return"".concat(r,"-").concat(e,"-").concat(t).toUpperCase()}function ce(e,t){var r=e>=t?e+1:t+1,n=e<=t?e:t;return Math.floor(Math.random()*(r-n))+n}var le={query:me,get:de,del:he,post:ve,put:ke,insert:ye},pe="id";function me(e){var t=ie.loadFromStorage(e);return t||(t=[]),Promise.resolve(t)}function de(e,t){return ge.apply(this,arguments)}function ge(){return ge=Object(a["a"])(regeneratorRuntime.mark((function e(t,r){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,me(t);case 2:return n=e.sent,e.abrupt("return",n.find((function(e){return e[pe]===r})));case 4:case"end":return e.stop()}}),e)}))),ge.apply(this,arguments)}function he(e,t){return be.apply(this,arguments)}function be(){return be=Object(a["a"])(regeneratorRuntime.mark((function e(t,r){var n,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,me(t);case 2:if(n=e.sent,o=n.findIndex((function(e){return e[pe]===r})),-1!==o){e.next=6;break}throw new Error("something went wrong");case 6:return n.splice(o,1),ie.storeToStorage(t,n),e.abrupt("return",Promise.resolve());case 9:case"end":return e.stop()}}),e)}))),be.apply(this,arguments)}function ve(e,t){return fe.apply(this,arguments)}function fe(){return fe=Object(a["a"])(regeneratorRuntime.mark((function e(t,r){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,me(t);case 2:return n=e.sent,r[pe]=ie.getRandomId(),n.push(r),ie.storeToStorage(t,n),e.abrupt("return",Promise.resolve(r));case 7:case"end":return e.stop()}}),e)}))),fe.apply(this,arguments)}function ke(e,t){return we.apply(this,arguments)}function we(){return we=Object(a["a"])(regeneratorRuntime.mark((function e(t,r){var n,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,me(t);case 2:if(n=e.sent,o=n.findIndex((function(e){return e[pe]===r[pe]})),-1!==o){e.next=6;break}throw new Error("something went wrong");case 6:return n[o]=r,ie.storeToStorage(t,n),e.abrupt("return",Promise.resolve(r));case 9:case"end":return e.stop()}}),e)}))),we.apply(this,arguments)}function ye(e,t){return xe.apply(this,arguments)}function xe(){return xe=Object(a["a"])(regeneratorRuntime.mark((function e(t,r){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,me(t);case 2:return n=e.sent,r.forEach((function(e){return e[pe]=ie.getRandomId()})),n.push.apply(n,Object(oe["a"])(r)),ie.storeToStorage(t,n),e.abrupt("return",Promise.resolve());case 7:case"end":return e.stop()}}),e)}))),xe.apply(this,arguments)}var Ce="books",_e={query:Se,getBookById:Be,remove:je,updateBook:Pe,add:$e};function Se(){return Re.apply(this,arguments)}function Re(){return Re=Object(a["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,le.query(Ce);case 3:if(t=e.sent,t&&t.length){e.next=8;break}return t=Ee(),e.next=8,le.insert(Ce,t);case 8:return e.abrupt("return",t);case 11:e.prev=11,e.t0=e["catch"](0),console.log("err loading books",e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),Re.apply(this,arguments)}function Be(e){return Oe.apply(this,arguments)}function Oe(){return Oe=Object(a["a"])(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,le.get(Ce,t);case 3:return r=e.sent,e.abrupt("return",r);case 7:e.prev=7,e.t0=e["catch"](0),console.log("err with get book ",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),Oe.apply(this,arguments)}function je(e){return qe.apply(this,arguments)}function qe(){return qe=Object(a["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,le.del(Ce,t);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e["catch"](0),console.log("err with delete book",e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])}))),qe.apply(this,arguments)}function Pe(e){return De.apply(this,arguments)}function De(){return De=Object(a["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,le.put(Ce,t);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e["catch"](0),console.log("err with update Book",e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])}))),De.apply(this,arguments)}function $e(e){return Ie.apply(this,arguments)}function Ie(){return Ie=Object(a["a"])(regeneratorRuntime.mark((function e(t){var r,n,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,console.log(t),n={id:ie.getRandomId(),title:t.title,authors:t.authors,publishedDate:t.publishedDate,pageCount:t.pageCount,categories:t.categories,language:t.language,thumbnail:null===(r=t.imageLinks)||void 0===r?void 0:r.thumbnail,listPrice:{amount:109,currencyCode:"EUR",isOnSale:!1}},e.next=5,le.post(Ce,n);case 5:return o=e.sent,e.abrupt("return",o);case 9:e.prev=9,e.t0=e["catch"](0),console.log("err with adding book",e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])}))),Ie.apply(this,arguments)}function Ee(){return[{id:"OXeMG8wNskc",title:"metus hendrerit",subtitle:"mi est eros convallis auctor arcu dapibus himenaeos",authors:["Barbara Cartland"],publishedDate:1999,description:"placerat nisi sodales suscipit tellus tincidunt mauris elit sit luctus interdum ad dictum platea vehicula conubia fermentum habitasse congue suspendisse",pageCount:713,categories:["Computers","Hack"],thumbnail:"http://coding-academy.org/books-photos/20.jpg",language:"en",listPrice:{amount:109,currencyCode:"EUR",isOnSale:!1}},{id:"JYOJa2NpSCq",title:"morbi",subtitle:"lorem euismod dictumst inceptos mi",authors:["Barbara Cartland"],publishedDate:1978,description:"aliquam pretium lorem laoreet etiam odio cubilia iaculis placerat aliquam tempor nisl auctor",pageCount:129,categories:["Computers","Hack"],thumbnail:"http://coding-academy.org/books-photos/14.jpg",language:"sp",listPrice:{amount:44,currencyCode:"EUR",isOnSale:!0}},{id:"1y0Oqts35DQ",title:"at viverra venenatis",subtitle:"gravida libero facilisis rhoncus urna etiam",authors:["Dr. Seuss"],publishedDate:1999,description:"lorem molestie ut euismod ad quis mi ultricies nisl cursus suspendisse dui tempor sit suscipit metus etiam euismod tortor sagittis habitant",pageCount:972,categories:["Computers","Hack"],thumbnail:"http://coding-academy.org/books-photos/2.jpg",language:"he",listPrice:{amount:108,currencyCode:"ILS",isOnSale:!1},reviews:[{name:"mosh",txt:"asdasd",rate:4,date:"2021-02-16T22:00:00.000Z",id:"R4bjheGn"},{name:"dsadas",txt:"sadasda",rate:5,date:"2021-02-17T22:00:00.000Z",id:"luSF0DeA"},{name:"dsada",txt:"asdasd",rate:4,date:"2021-02-16T22:00:00.000Z",id:"8QLiNCmj"}]},{id:"kSnfIJyikTP",title:"dictum",subtitle:"augue eu consectetur class curabitur conubia ligula in ullamcorper",authors:["Danielle Steel"],publishedDate:1978,description:"interdum inceptos mauris habitant primis neque tempus lacus morbi auctor cras consectetur euismod vehicula neque netus enim vivamus augue molestie imperdiet tincidunt aliquam",pageCount:303,categories:["Computers","Hack"],thumbnail:"http://coding-academy.org/books-photos/16.jpg",language:"en",listPrice:{amount:30,currencyCode:"EUR",isOnSale:!0}},{id:"f4iuVmbuKCC",title:"sem himenaeos aptent",subtitle:"interdum per habitasse luctus purus est",authors:["Dr. Seuss"],publishedDate:2011,description:"et vehicula faucibus amet accumsan lectus cras nulla cubilia arcu neque litora mi habitasse quis amet augue facilisis sed",pageCount:337,categories:["Computers","Hack"],thumbnail:"http://coding-academy.org/books-photos/12.jpg",language:"sp",listPrice:{amount:19,currencyCode:"USD",isOnSale:!1},reviews:[]},{id:"U2rfZO6oBZf",title:"mi ante posuere",subtitle:"sapien curae consectetur ultrices fringilla blandit ipsum curae faucibus",authors:["Leo Tolstoy"],publishedDate:1978,description:"senectus habitant nam imperdiet nostra elit dapibus nisl adipiscing in",pageCount:748,categories:["Computers","Hack"],thumbnail:"http://coding-academy.org/books-photos/1.jpg",language:"en",listPrice:{amount:91,currencyCode:"USD",isOnSale:!0}},{id:"xI0wrXaaAcq",title:"non",subtitle:"leo tortor per dapibus mattis ut conubia porttitor ligula viverra",authors:["Leo Tolstoy"],publishedDate:2011,description:"nec scelerisque id cursus platea sit ullamcorper bibendum ultrices tempus ante mi aliquet cras tortor dapibus dictum scelerisque",pageCount:65,categories:["Computers","Hack"],thumbnail:"http://coding-academy.org/books-photos/14.jpg",language:"he",listPrice:{amount:90,currencyCode:"USD",isOnSale:!1}},{id:"9laHCEdSpFy",title:"tristique",subtitle:"consectetur a eu tincidunt condimentum amet nisi",authors:["Dr. Seuss"],publishedDate:1999,description:"magna quisque venenatis laoreet purus in semper habitant proin pellentesque sed egestas cursus faucibus nam enim id sit mi ligula risus curabitur senectus curabitur sodales fames sem",pageCount:299,categories:["Computers","Hack"],thumbnail:"http://coding-academy.org/books-photos/11.jpg",language:"he",listPrice:{amount:176,currencyCode:"EUR",isOnSale:!1}},{id:"nGhVwZvGCGp",title:"urna ornare gravida",subtitle:"sem vestibulum semper convallis pharetra tempor himenaeos ut",authors:["Jin Yong"],publishedDate:2011,description:"porttitor nisl sodales id eu tellus venenatis laoreet auctor dictumst nulla",pageCount:803,categories:["Computers","Hack"],thumbnail:"http://coding-academy.org/books-photos/10.jpg",language:"sp",listPrice:{amount:116,currencyCode:"USD",isOnSale:!0}},{id:"Q8Q9Lsd03BD",title:"consequat neque volutpat",subtitle:"vel quis taciti fermentum feugiat ullamcorper curae praesent",authors:["Dr. Seuss"],publishedDate:1978,description:"curabitur bibendum in dolor neque magna phasellus arcu nulla cubilia senectus maecenas ullamcorper neque accumsan facilisis dictumst ornare",pageCount:891,categories:["Computers","Hack"],thumbnail:"http://coding-academy.org/books-photos/5.jpg",language:"en",listPrice:{amount:145,currencyCode:"EUR",isOnSale:!1}},{id:"bd7a76kARao",title:"risus",subtitle:"pretium bibendum pharetra curabitur quisque dictumst",authors:["Danielle Steel"],publishedDate:2018,description:"auctor amet nostra luctus molestie proin platea cubilia netus sed purus egestas a primis eu tristique interdum litora lorem venenatis mattis senectus",pageCount:86,categories:["Computers","Hack"],thumbnail:"http://coding-academy.org/books-photos/16.jpg",language:"sp",listPrice:{amount:157,currencyCode:"ILS",isOnSale:!0}},{id:"qKyG0vqeO3e",title:"interdum etiam vulputate",subtitle:"velit sapien eget tincidunt nunc tortor",authors:["Danielle Steel"],publishedDate:2018,description:"aenean mauris porta netus accumsan turpis etiam vestibulum vivamus sagittis nullam nec tellus quam mattis est pellentesque nisi litora sit ad",pageCount:882,categories:["Computers","Hack"],thumbnail:"http://coding-academy.org/books-photos/17.jpg",language:"sp",listPrice:{amount:57,currencyCode:"USD",isOnSale:!0}},{id:"2RvT48ZNInj",title:"sagittis justo",subtitle:"etiam primis proin praesent placerat nisi fermentum nisi",authors:["Agatha Christie"],publishedDate:2011,description:"nec faucibus arcu suspendisse tempus potenti lobortis aliquam quisque augue integer consectetur etiam ultrices curabitur tristique metus",pageCount:598,categories:["Computers","Hack"],thumbnail:"http://coding-academy.org/books-photos/8.jpg",language:"en",listPrice:{amount:167,currencyCode:"ILS",isOnSale:!1}},{id:"5z2s9pDXAYj",title:"quam ullamcorper himenaeos",subtitle:"ut placerat eu dapibus sapien sodales laoreet",authors:["Danielle Steel"],publishedDate:1999,description:"etiam nec aliquam euismod platea vel laoreet quisque condimentum sapien neque ut aliquam torquent in nam",pageCount:608,categories:["Computers","Hack"],thumbnail:"http://coding-academy.org/books-photos/3.jpg",language:"he",listPrice:{amount:150,currencyCode:"USD",isOnSale:!0}},{id:"zBZu5cDEWha",title:"quis",subtitle:"suscipit turpis etiam turpis libero lobortis",authors:["Jin Yong"],publishedDate:2011,description:"etiam pretium urna fusce lobortis curae viverra aptent metus semper nisi litora feugiat elementum purus nunc consequat lorem ultricies non primis phasellus sociosqu donec dolor",pageCount:583,categories:["Computers","Hack"],thumbnail:"http://coding-academy.org/books-photos/6.jpg",language:"en",listPrice:{amount:58,currencyCode:"ILS",isOnSale:!0}},{id:"aOI7tQuPZ2f",title:"aliquam aliquet dapibus",subtitle:"neque eu purus euismod placerat adipiscing odio egestas consequat",authors:["Leo Tolstoy"],publishedDate:2011,description:"dolor morbi malesuada eleifend purus taciti sit interdum aliquet commodo ut libero tincidunt",pageCount:497,categories:["Computers","Hack"],thumbnail:"http://coding-academy.org/books-photos/7.jpg",language:"en",listPrice:{amount:78,currencyCode:"USD",isOnSale:!1}},{id:"WBooB82Uvwu",title:"class",subtitle:"elit enim ultricies amet imperdiet a molestie class elementum venenatis",authors:["Danielle Steel"],publishedDate:1999,description:"rhoncus odio netus consectetur aenean hendrerit massa scelerisque elementum aptent lobortis pharetra maecenas quam nulla volutpat turpis non habitasse aenean ante sodales lobortis quisque libero imperdiet gravida eleifend nulla",pageCount:804,categories:["Computers","Hack"],thumbnail:"http://coding-academy.org/books-photos/10.jpg",language:"en",listPrice:{amount:118,currencyCode:"ILS",isOnSale:!1}},{id:"xm1z5bbZjlS",title:"vitae",subtitle:"class habitant at commodo semper ligula a bibendum",authors:["Leo Tolstoy"],publishedDate:1999,description:"himenaeos quis iaculis orci libero egestas quam varius primis erat lacus facilisis blandit dictum tristique interdum litora quisque purus senectus pretium purus",pageCount:231,categories:["Computers","Hack"],thumbnail:"http://coding-academy.org/books-photos/12.jpg",language:"he",listPrice:{amount:60,currencyCode:"EUR",isOnSale:!1}},{id:"u3j6QIKLlJb",title:"rhoncus vivamus",subtitle:"nullam class risus amet senectus scelerisque etiam curabitur",authors:["Agatha Christie"],publishedDate:1978,description:"torquent in et id lacus vivamus aptent cursus erat integer venenatis risus ac ante quam etiam euismod feugiat risus suscipit rhoncus pharetra quisque felis",pageCount:652,categories:["Computers","Hack"],thumbnail:"http://coding-academy.org/books-photos/20.jpg",language:"he",listPrice:{amount:110,currencyCode:"USD",isOnSale:!0}},{id:"vxYYYdVlEH3",title:"donec mi ullamcorper",subtitle:"varius malesuada augue molestie sollicitudin faucibus mi eu tempus",authors:["William Shakespeare"],publishedDate:2011,description:"aliquet euismod mi vivamus bibendum donec etiam quisque iaculis ullamcorper est sed",pageCount:904,categories:["Computers","Hack"],thumbnail:"http://coding-academy.org/books-photos/2.jpg",language:"sp",listPrice:{amount:186,currencyCode:"ILS",isOnSale:!0}}]}var Me={getReviewsByBookId:He,addReview:Te,removeReview:Ue};function He(e){return Le.apply(this,arguments)}function Le(){return Le=Object(a["a"])(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_e.getBookById(t);case 3:return r=e.sent,e.abrupt("return",r.reviews);case 7:e.prev=7,e.t0=e["catch"](0),console.log("err is:",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),Le.apply(this,arguments)}function Te(e,t){return Ae.apply(this,arguments)}function Ae(){return Ae=Object(a["a"])(regeneratorRuntime.mark((function e(t,r){var n,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log(t,r),t.id=Fe(),e.prev=2,e.next=5,_e.getBookById(r);case 5:n=e.sent,o=Object(Z["a"])({},n),o.reviews||(o.reviews=[]),o.reviews.push(t),_e.updateBook(o),e.next=15;break;case 12:e.prev=12,e.t0=e["catch"](2),console.log("err with add review",e.t0);case 15:case"end":return e.stop()}}),e,null,[[2,12]])}))),Ae.apply(this,arguments)}function Ue(e,t){return Ne.apply(this,arguments)}function Ne(){return Ne=Object(a["a"])(regeneratorRuntime.mark((function e(t,r){var n,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log(t,r),e.prev=1,n=r.reviews.findIndex((function(e){return e.id===t})),o=Object(oe["a"])(r.reviews),o.splice(n,1),console.log(o),r.reviews=o,e.next=9,_e.updateBook(r);case 9:e.next=14;break;case 11:e.prev=11,e.t0=e["catch"](1),console.log("error with remove review",e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,11]])}))),Ne.apply(this,arguments)}function Fe(){for(var e="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",t=8,r="",n=0;n<t;n++)r+=e.charAt(Math.floor(Math.random()*e.length));return r}var Ge=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",{staticClass:"review-add flex column"},[r("h1",[e._v("Add new review")]),r("form",[r("el-input",{attrs:{placeholder:"Full name"},model:{value:e.review.name,callback:function(t){e.$set(e.review,"name",t)},expression:"review.name"}}),r("div",{staticClass:"flex"},[r("el-date-picker",{attrs:{type:"date",placeholder:"Pick a day"},model:{value:e.review.date,callback:function(t){e.$set(e.review,"date",t)},expression:"review.date"}})],1),r("el-input",{attrs:{type:"textarea",autosize:{minRows:4,maxRows:6},placeholder:"Your review here..."},model:{value:e.review.txt,callback:function(t){e.$set(e.review,"txt",t)},expression:"review.txt"}}),r("el-rate",{model:{value:e.review.rate,callback:function(t){e.$set(e.review,"rate",t)},expression:"review.rate"}}),r("button",{staticClass:"btn-submit",on:{click:function(t){return t.preventDefault(),e.add(t)}}},[e._v(" Submit ")])],1)])},Ye=[],Je={data:function(){return{review:{name:"",txt:"",rate:null,date:""}}},methods:{add:function(){this.$emit("addReview",this.review),this.review={name:"",txt:"",rate:null,date:""}}}},Ze=Je,Qe=Object(p["a"])(Ze,Ge,Ye,!1,null,null,null),ze=Qe.exports,Ve=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",[r("h1",[e._v("Review List ")]),r("ul",{staticClass:"review-list-container"},e._l(e.reviews,(function(t){return r("li",{key:t.id},[r("review-preview",{attrs:{review:t},on:{remove:e.remove}})],1)})),0)])},We=[],Ke=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",{staticClass:"review-preview"},[r("p",[e._v(e._s(e.review.name))]),r("p",[e._v(e._s(e._f("moment")(e.review.date,"DD/MM/YY")))]),r("p",[e._v(e._s(e.review.txt))]),r("el-rate",{attrs:{disabled:"","text-color":"#ff9900"},model:{value:e.review.rate,callback:function(t){e.$set(e.review,"rate",t)},expression:"review.rate"}}),r("button",{on:{click:e.remove}},[e._v("Remove")])],1)},Xe=[],et={props:["review"],methods:{remove:function(){this.$emit("remove",this.review.id)}}},tt=et,rt=Object(p["a"])(tt,Ke,Xe,!1,null,null,null),nt=rt.exports,ot={components:{ReviewPreview:nt},props:["reviews"],methods:{remove:function(e){this.$emit("remove",e)}}},it=ot,at=Object(p["a"])(it,Ve,We,!1,null,null,null),st=at.exports,ut={components:{ReviewAdd:ze,ReviewList:st},data:function(){return{book:null,desc:""}},created:function(){this.loadBook()},watch:{"$route.params.id":function(e,t){e!==t&&(console.log("watch"),this.loadBook())}},methods:{goBack:function(){this.$router.push("/book")},onChangePage:function(e){var t=this.book.id,r=this.$store.getters.books;console.log(r,"details");var n=r.findIndex((function(e){return e.id===t})),o=r[n+e].id;o&&this.$router.push("/book/"+o)},onRemove:function(e){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,Me.removeReview(e,Object(Z["a"])({},t.book));case 2:t.loadBook();case 3:case"end":return r.stop()}}),r)})))()},onAddReview:function(e){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,Me.addReview(Object(Z["a"])({},e),t.book.id);case 2:t.loadBook();case 3:case"end":return r.stop()}}),r)})))()},loadBook:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log("Load"),r=e.$route.params.id,t.next=4,_e.getBookById(r);case 4:n=t.sent,e.book=n,console.log(n);case 7:case"end":return t.stop()}}),t)})))()}},computed:{description:function(){var e;if(this.book){var t=null===(e=this.book.description)||void 0===e?void 0:e.substring(0,100);return this.desc=t,t}},getCurr:function(){return"ILS"===this.book.listPrice.currencyCode?"₪":"EUR"===this.book.listPrice.currencyCode?"€":(this.book.listPrice.currencyCode,"$")},pageCount:function(){return this.book.pageCount>500?"Long reading":this.book.pageCount>200?"Decent Reading":this.book.pageCount<100?"Light Reading":void 0},bookAge:function(){var e=new Date(Date.now()).getFullYear();return e-this.book.publishedDate>10?"Veteran Book":e-this.book.publishedDate===1?"New Book":void 0},price:function(){return this.book.listPrice.amount>150?"high-price":this.book.listPrice.amount<20?"low-price":void 0},sale:function(){if(this.book.listPrice.isOnSale)return"Sale !!!"}}},ct=ut,lt=Object(p["a"])(ct,re,ne,!1,null,null,null),pt=lt.exports,mt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",{staticClass:"add-gbooks"},[r("h1",[e._v("AddGoogleBook")]),r("label",[r("input",{directives:[{name:"model",rawName:"v-model",value:e.query,expression:"query"}],attrs:{type:"text",name:"googleSearch",placeholder:"Search book from google"},domProps:{value:e.query},on:{input:[function(t){t.target.composing||(e.query=t.target.value)},e.getBooks]}})]),r("ul",e._l(e.books,(function(t){return r("li",{key:t.id},[r("span",[e._v(e._s(t.volumeInfo.title))]),r("button",{on:{click:function(r){return e.addBook(t)}}},[e._v("Add to Library")])])})),0)])},dt=[],gt=r("bc3a"),ht=r.n(gt),bt={getBooksFromGoogle:vt};function vt(e){return ft.apply(this,arguments)}function ft(){return ft=Object(a["a"])(regeneratorRuntime.mark((function e(t){var r,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,r="https://www.googleapis.com/books/v1/volumes?q=".concat(t,"&maxResults=40"),e.next=4,ht.a.get(r);case 4:return n=e.sent,console.log(n.data.items),e.abrupt("return",n.data.items);case 9:e.prev=9,e.t0=e["catch"](0),console.log("faild to retrieveing books from google",e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])}))),ft.apply(this,arguments)}var kt={data:function(){return{books:null,query:""}},methods:{getBooks:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,bt.getBooksFromGoogle(e.query);case 2:r=t.sent,e.books=r;case 4:case"end":return t.stop()}}),t)})))()},addBook:function(e){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,t.$store.dispatch({type:"saveBook",book:e.volumeInfo});case 2:r.sent,t.$router.push("/book");case 4:case"end":return r.stop()}}),r)})))()}}},wt=kt,yt=Object(p["a"])(wt,mt,dt,!1,null,null,null),xt=yt.exports;n["default"].use(_["a"]);var Ct=[{path:"/book/:id",name:"bookDetails",component:pt},{path:"/add",name:"addBook",component:xt},{path:"/book",name:"bookApp",component:te},{path:"/about",name:"About",component:function(){return r.e("about").then(r.bind(null,"f820"))}},{path:"/",name:"Home",component:q}],_t=new _["a"]({routes:Ct}),St=_t,Rt=r("2f62"),Bt=(r("4de4"),r("4d63"),r("ac1f"),{state:{books:null,filterBy:null,selectedBook:null},mutations:{setBooks:function(e,t){e.books=t.books},setFilter:function(e,t){var r=t.filterBy;e.filterBy=r},removeBook:function(e,t){var r=t.bookId,n=e.books.findIndex((function(e){return e.id===r}));e.books.splice(n,1)},saveBook:function(e,t){var r=t.book,n=e.books.findIndex((function(e){return e.id===r.id}));-1===n?e.books.push(r):e.books.splice(n,1,r)},setSelectedBook:function(e,t){var r=t.book;e.selectedBook=r}},actions:{loadBooks:function(e){return Object(a["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,_e.query();case 3:r=t.sent,e.commit({type:"setBooks",books:r}),t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),console.log("err with loading books",t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))()},removeBook:function(e,t){return Object(a["a"])(regeneratorRuntime.mark((function r(){var n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n=t.bookId,r.prev=1,r.next=4,_e.remove(n);case 4:e.commit({type:"removeBook",bookId:n}),e.dispatch({type:"setMsg",msgStr:"Book removed"}),r.next=12;break;case 8:r.prev=8,r.t0=r["catch"](1),e.dispatch({type:"setMsg",msgStr:"book remove failed"}),console.log(r.t0);case 12:case"end":return r.stop()}}),r,null,[[1,8]])})))()},saveBook:function(e,t){return Object(a["a"])(regeneratorRuntime.mark((function r(){var n,o;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n=t.book,r.prev=1,r.next=4,_e.add(n);case 4:o=r.sent,e.commit({type:"saveBook",book:o}),e.dispatch({type:"setMsg",msgStr:"Google Book Added"}),r.next=13;break;case 9:r.prev=9,r.t0=r["catch"](1),console.log("book add failed ",r.t0),e.dispatch({type:"setMsg",msgStr:"Book add failed"});case 13:case"end":return r.stop()}}),r,null,[[1,9]])})))()},getbookById:function(e,t){return Object(a["a"])(regeneratorRuntime.mark((function r(){var n,o;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n=t.bookId,r.prev=1,r.next=4,_e.get(n);case 4:o=r.sent,e.commit({type:"setSelectedBook",book:o}),r.next=11;break;case 8:r.prev=8,r.t0=r["catch"](1),console.log("error with loading book",r.t0);case 11:case"end":return r.stop()}}),r,null,[[1,8]])})))()}},getters:{booksToShow:function(e){var t=e.books,r=e.filterBy,n=(null===r||void 0===r?void 0:r.minPrice)||-1/0,o=(null===r||void 0===r?void 0:r.maxPrice)||1/0;if(!r)return t;var i=r,a=new RegExp(i.txt,"i"),s=t.filter((function(e){return a.test(e.title)&&e.listPrice.amount>n&&e.listPrice.amount<o}));return s},selectedBook:function(e){return e.selectedBook},books:function(e){return e.books}}});n["default"].use(Rt["a"]);var Ot=new Rt["a"].Store({strict:!0,state:{userMsg:""},getters:{userMsg:function(e){return e.userMsg}},mutations:{setMsg:function(e,t){var r=t.msgStr;e.userMsg=r}},actions:{setMsg:function(e,t){var r=e.commit,n=t.msgStr;r({type:"setMsg",msgStr:n}),setTimeout((function(){r({type:"setMsg",msgStr:""})}),3e3)}},modules:{bookModule:Bt}}),jt=(r("2fb4"),r("5c96")),qt=r.n(jt);r("0fae");n["default"].config.productionTip=!1,n["default"].use(qt.a),n["default"].use(r("2ead")),new n["default"]({router:St,store:Ot,render:function(e){return e(C)}}).$mount("#app")},af4c:function(e,t,r){},c0ea:function(e,t,r){"use strict";r("af4c")}});
//# sourceMappingURL=app.5a157520.js.map